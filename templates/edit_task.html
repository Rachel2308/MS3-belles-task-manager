{% extends "base.html" %}
{% block content %}

    <h3 class="center-align page-title">Edit Task</h3>

<div class="row card-panel add-tasks-form">

    <form class="col s12" method="POST" action="{{ url_for('edit_task', homework_id=homework._id) }}">
        <!--Section selection-->
        <div class="row">
            <div class="input-field col s12">
                <i class="fas fa-microphone prefix pink-text text-accent-1"></i>
                <select id="section_name" name="section_name" class="validate" required>
                    <option value="" disabled>Choose Section or Whole Chorus</option>
                    {% for section in sections %}
                        {% if section.section_name == homework.section_name %}
                            <option value="{{ section.section_name }}" selected>{{ section.section_name }}</option>
                        {% else %}
                            <option value="{{ section.section_name }}">{{ section.section_name }}</option> 
                        {% endif %}
                    {% endfor %}                   
                </select>
                <label for="section_name">Select Section</label>
            </div>

        </div>
        <div class="row">
            <!--Due Date Picker-->
            <div class="input-field col s12">
                <i class="far fa-calendar-alt prefix pink-text text-accent-1"></i>
                <input id="due_date" name ="due_date" type="text" value="{{ homework.due_date }}" 
                class="datepicker validate" required>
                <label for="due_date">Due Date</label>
            </div>
        </div>
        <!--Song Name-->
        <div class="row">
            <div class="input-field col s12">
                <i class="fas fa-music prefix pink-text text-accent-1"></i>
                <input id="song_name" name ="song_name" value="{{ homework.song_name }}" type="text" 
                class="validate" required>
                <label for="song_name">Song Name</label>
            </div>
        </div>
        <!--Task Title-->
        <div class="row">
            <div class="input-field col s12">
                <i class="far fa-file-alt prefix pink-text text-accent-1"></i>
                <input id="task_title" name ="task_title" value="{{ homework.task_title }}"type="text" 
                class="validate" required>
                <label for="task_title">Task Title</label>
            </div>
        </div>
        <!--Task Description-->
        <div class="row">
            <div class="input-field col s12">
                <i class="fas fa-align-left prefix pink-text text-accent-1"></i>
                <textarea id="task_description" name="task_description" class="materialize-textarea validate" 
                required>
                {{- homework.task_description -}}
            </textarea>
            <label for="task_description">Details of Task</label>
            </div>
        </div>
        <!--Submit Button-->
        <div class="row">
            <div class="center-align">
            <!--Submit changes button-->
                <button type="submit" class="btn-large pink accent-1 form-button">
                    Save Changes
                </button>
                <!--Cancel changes button-->
                <a href="{{ url_for('homework') }}" class="btn-large red accent-4 form-button">Cancel</a>
                
            </div>
        </div>
    </form>
</div>

{% endblock %}
